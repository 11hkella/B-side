(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(81)},44:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),c=a.n(i),s=(a(44),a(11)),l=a(15),o=a(18),m=a(1),u=a.n(m),p=a(7),v=a(2),d=a(3),f=a(5),h=a(4),g=a(6),E=a(9),w=a.n(E),b=(a(63),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).deleteReview=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/review/".concat(a.props.id));case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a.favoriteReview=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("/api/review/".concat(a.props.id),{like:!0});case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a.unfavoriteReview=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("/api/review/".concat(a.props.id),{like:!1});case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a.addUpPlay=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.put("/api/review/".concat(a.props.id),{upPlay:a.props.upPlay+1});case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.like,a=e.upPlay;return r.a.createElement("div",{className:"status-bar"},t?r.a.createElement("img",{onClick:this.unfavoriteReview,src:"/images/favorite-24px.svg",alt:"favorite",className:"icon favorite"}):r.a.createElement("img",{onClick:this.favoriteReview,src:"/images/favorite_border-24px.svg",alt:"unfavorite",className:"icon unfavorite"}),r.a.createElement("p",null,r.a.createElement("span",null,a),r.a.createElement("img",{onClick:this.addUpPlay,src:"/images/radio-24px.svg",alt:"up play"})),r.a.createElement("img",{onClick:this.deleteReview,src:"/images/clear-24px.svg",alt:"clear",className:"icon delete"}))}}]),t}(n.Component)),O=(a(64),function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.artist,a=e.title,n=e.image,i=e.like,c=e.upPlay,l=e.id,o="/".concat(l);return r.a.createElement("div",{className:"review-item-container"},r.a.createElement("div",{className:"review-pic-container"},r.a.createElement(s.b,{to:o},r.a.createElement("img",{className:"list-pic",src:n,alt:"artist or song"}))),r.a.createElement("div",{className:"review-item-info-container"},r.a.createElement(s.b,{to:o},r.a.createElement("h2",null,a),r.a.createElement("h3",null,t))),r.a.createElement("div",{className:"icon-container"},r.a.createElement(b,{like:i,upPlay:c,refresh:this.props.refresh,id:l})))}}]),t}(n.Component)),y=(a(69),function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"NEWEST",r.a.createElement("br",null),"REVIEWS"))}}]),t}(n.Component)),N=(a(70),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={toggleForm:!0,reviewList:[],newArtist:"",newTitle:"",newImage:"",newMessage:""},a.renderReviewList=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("/api/review");case 2:return t=e.sent,a.setState({reviewList:t.data}),e.abrupt("return");case 5:case"end":return e.stop()}},e)})),a.onFormChange=function(e){var t=Object(o.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.submitNewReview=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={artist:a.state.newArtist,title:a.state.newTitle,image:a.state.newImage,like:!1,message:a.state.newMessage,upPlay:0},e.next=3,w.a.post("/api/review",t);case 3:a.renderReviewList();case 4:case"end":return e.stop()}},e)})),a.toggleFormClick=function(){a.setState({toggleForm:!a.state.toggleForm})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.renderReviewList()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home-container"},r.a.createElement(y,null),r.a.createElement("div",{className:"review-List"},this.state.reviewList.map(function(t,a){return r.a.createElement(O,{artist:t.artist,title:t.title,image:t.image,like:t.like,upPlay:t.upPlay,id:t._id,refresh:e.renderReviewList,key:a})})))}}]),t}(n.Component)),x=(a(71),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).deleteReply=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("/api/reply/".concat(a.props.id));case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"single-reply"},r.a.createElement("p",null,this.props.message),r.a.createElement("img",{src:"./images/clear-24px.svg",alt:"delete",onClick:this.deleteReply}))}}]),t}(n.Component)),j=(a(72),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newReply:""},a.submitNewReply=Object(p.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={message:a.state.newReply,like:!1,reviewId:a.props.reviewId},e.next=3,w.a.post("/api/reply",t);case 3:a.resetReplyForm();case 4:case"end":return e.stop()}},e)})),a.resetReplyForm=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({newReply:""});case 2:a.props.refresh();case 3:case"end":return e.stop()}},e)})),a.onReplyFormChange=function(e){var t=e.target.value;a.setState({newReply:t})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"reply-form-container"},r.a.createElement("textarea",{name:"newReply",placeholder:"write a reply...",onChange:this.onReplyFormChange,value:this.state.newReply}),r.a.createElement("div",{className:"reply-submit-container",onClick:this.submitNewReply},r.a.createElement("img",{src:"./images/arrow_upward-24px.svg",alt:"post"})))}}]),t}(n.Component)),k=(a(73),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={artist:"",title:"",image:"",like:!1,message:"",upPlay:0,_id:"",replyList:[],newReply:""},a.updatePageInfo=Object(p.a)(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.reviewId,e.next=3,w.a.get("/api/review/".concat(t));case 3:return n=e.sent,e.next=6,w.a.get("/api/reply/list/".concat(t));case 6:return r=e.sent,e.next=9,a.setState(n.data);case 9:a.setState({replyList:r.data});case 10:case"end":return e.stop()}},e)})),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updatePageInfo()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"single-review-container"},r.a.createElement("div",{className:"hero"},r.a.createElement("div",{className:"image-container"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{src:this.state.image,alt:"album cover"}))),r.a.createElement("div",{className:"title-and-artist"},r.a.createElement("h1",{className:"review-page-title"},this.state.title),r.a.createElement("h3",{className:"review-page-artist"},"By ",r.a.createElement("span",null,this.state.artist)),r.a.createElement("div",{className:"status-bar-container"},r.a.createElement(b,{like:this.state.like,upPlay:this.state.upPlay,refresh:this.updatePageInfo,id:this.state._id})))),r.a.createElement("div",{className:"review-container"},r.a.createElement("p",null,this.state.message)),r.a.createElement("div",{className:"reply-list"},this.state.replyList.map(function(t,a){return r.a.createElement(x,{message:t.message,id:t._id,like:t.like,refresh:e.updatePageInfo,key:a})})),r.a.createElement("div",{className:"reply-form"},r.a.createElement(j,{reviewId:this.state._id,refresh:this.updatePageInfo})))}}]),t}(n.Component)),C=a(24),R=a.n(C),I={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:""}).AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:""}).DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:""}).PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:""}).STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:""}).MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:""}).APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:""}).MEASURMENT_ID};console.log(Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY);a(77);var P=function e(){Object(v.a)(this,e),R.a.initializeApp(I),this.ref=R.a.storage().ref()}.ref;console.log(P);var _=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={newArtist:"",newTitle:"",imageFile:null,newMessage:"",redirect:!1,imagePath:"",fileUploaded:!1,guidFileName:""},a.generateUUID=function(){var e=(new Date).getTime();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)})},a.uploadCommonImage=function(){var e=Object(p.a)(u.a.mark(function e(t){var n,r,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.imageFile){e.next=22;break}return n=a.generateUUID(),e.next=5,a.setState({guidFileName:n});case 5:return r="common/images/".concat(n),e.prev=6,e.next=9,P.child(r).put(a.state.imageFile,{contentType:a.state.imageFile.type});case 9:return i=e.sent,e.next=12,i.ref.getDownloadURL();case 12:c=e.sent,a.setState({imagePath:c,fileUploaded:!0}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("failed to upload image"),console.error(e.t0);case 20:e.next=23;break;case 22:return e.abrupt("return");case 23:case"end":return e.stop()}},e,null,[[6,16]])}));return function(t){return e.apply(this,arguments)}}(),a.deleteCommonImage=Object(p.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="common/images/".concat(a.state.guidFileName),e.next=3,P.child(t).delete();case 3:return n=e.sent,a.setState({fileUploaded:!1,imagePath:""}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),a.onFileChange=function(e){if(e.target.files[0]){var t=e.target.files[0];a.setState({imageFile:t})}},a.onFormChange=function(e){var t=Object(o.a)({},a.state);t[e.target.name]=e.target.value,a.setState(t)},a.submitNewReview=function(){var e=Object(p.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={artist:a.state.newArtist,title:a.state.newTitle,image:a.state.imagePath,like:!1,message:a.state.newMessage,upPlay:0},e.next=4,w.a.post("/api/review",n);case 4:a.setRedirect();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setRedirect=function(){a.setState({redirect:!0})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"create-review-container"},r.a.createElement("form",{id:"reviewForm"},r.a.createElement("div",{className:"hero-preview"},r.a.createElement("div",{className:"image-input-container"},r.a.createElement("div",{className:"image-preview"},r.a.createElement("img",{src:""===this.state.imagePath?"./images/record-logo2.png":this.state.imagePath,alt:"artist or song cover"})),r.a.createElement("input",{type:"file",name:"imageFile",accept:"image/*",onChange:this.onFileChange}),this.state.fileUploaded?r.a.createElement("button",{onClick:this.deleteCommonImage},r.a.createElement("img",{src:"./images/clear-24px.svg",alt:"remove image"})):r.a.createElement("button",{onClick:this.uploadCommonImage},"Upload")),r.a.createElement("div",{className:"hero-right-preview"},r.a.createElement("div",{className:"title-input-container"},r.a.createElement("label",{htmlFor:"newTitle",className:"title-label"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"newTitle",onChange:this.onFormChange})),r.a.createElement("div",{className:"artist-input-container"},r.a.createElement("label",{className:"artist-label",htmlFor:"newArtist"},"Artist"),r.a.createElement("span",null,"By"),r.a.createElement("input",{type:"text",name:"newArtist",onChange:this.onFormChange,className:"artist-input"})))),r.a.createElement("div",{className:"review-form-body-container"},r.a.createElement("div",{className:"review-input-container"},r.a.createElement("label",{htmlFor:"newMessage"},"Review..."),r.a.createElement("textarea",{name:"newMessage",form:"reviewForm",onChange:this.onFormChange})),r.a.createElement("div",{className:"review-post-container"},r.a.createElement("span",{className:"review-post",onClick:this.submitNewReview},r.a.createElement("img",{src:"./images/post_add-24px.svg",alt:"post"}))))),this.state.redirect?r.a.createElement(l.a,{to:"/"}):null)}}]),t}(n.Component),U=(a(78),function(e){function t(){return Object(v.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"logo-container"},r.a.createElement("div",{className:"logo-image"},r.a.createElement("p",{className:"logo-text"},r.a.createElement("span",null,"b"),r.a.createElement("br",null),"side")))}}]),t}(n.Component)),L=(a(79),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={navBarOut:!1,newest:!1,writeReview:!1},a.toggleNavBar=function(){a.setState({navBarOut:!a.state.navBarOut})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.navBarOut?r.a.createElement("div",{className:"nav-bar-container"},r.a.createElement("div",{className:"nav-bar-logo-container spinOut",onClick:this.toggleNavBar},r.a.createElement(U,null)),r.a.createElement("nav",{className:"navShow"},r.a.createElement("div",{className:"nav-section-container"},r.a.createElement("h3",null,"Reviews"),r.a.createElement(s.b,{to:"/"},"Newest")),r.a.createElement("div",{className:"nav-section-container"},r.a.createElement("h3",null,"Create"),r.a.createElement(s.b,{to:"/review"},"Write a Review")))):r.a.createElement("div",{className:"nav-bar-container nav-bar-resize"},r.a.createElement("div",{className:"nav-bar-logo-container spinIn",onClick:this.toggleNavBar},r.a.createElement(U,null)),r.a.createElement("nav",{className:"navHide"},r.a.createElement("div",{className:"nav-section-container"},r.a.createElement("h3",null,"Reviews"),r.a.createElement(s.b,{to:"/"},"Newest")),r.a.createElement("div",{className:"nav-section-container"},r.a.createElement("h3",null,"Create"),r.a.createElement(s.b,{to:"/review"},"Write a Review")))))}}]),t}(n.Component));a(80);var F=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(L,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:N}),r.a.createElement(l.b,{exact:!0,path:"/review",component:_}),r.a.createElement(l.b,{exact:!0,path:"/logo",component:U}),r.a.createElement(l.b,{exact:!0,path:"/:reviewId",component:k}))))};c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.82ad23d8.chunk.js.map